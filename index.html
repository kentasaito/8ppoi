<!doctype html>
<meta name="viewport" content="width=320, user-scalable=no">
<link rel="stylesheet" href="./console.css">
<link rel="stylesheet" href="./diamond.css">

<div id="screenContainer">
  <div id="screenWrapper">
    <div id="screen">
    </div>
    <svg id="start">
      <path d="M15,10 L70,40 15,70 Z" />
    </svg>
  </div>
  <div id="pad">
    <div class="diamond">
    </div>
    <div class="diamond">
    </div>
  </div>
</div>

<script type="module">
globalThis.onpageshow = async () => {
  const url = new URL(location);
  const cartridge = {
    author: url.searchParams.get("author"),
    name: url.searchParams.get("name"),
    version: url.searchParams.get("version"),
  };
  if (!cartridge.name) {
    location.href = "?author=kentasaito&name=demo&version=0.0.3";
  }
  const Console = (await import("./cartridges/" + cartridge.author + "/" + cartridge.name + "/" + cartridge.version + "/deps.js")).Console;
  await Console.setup({
    cartridge,
  });
};
</script>
